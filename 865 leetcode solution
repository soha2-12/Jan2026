class Solution(object):
    def subtreeWithAllDeepest(self, root):
        def dfs(node):
            if not node:
                return 0, None
            lh, ln = dfs(node.left)
            rh, rn = dfs(node.right)
            if lh > rh:
                return lh + 1, ln
            if rh > lh:
                return rh + 1, rn
            return lh + 1, node

        return dfs(root)[1]
